<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrinho - Dtech Informática</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>Seu Carrinho</h1>
            <nav>
                <a href="index.html">Voltar à Loja</a>
            </nav>
        </div>
    </header>

    <main>
        <section id="carrinho">
            <h2>Produtos Selecionados</h2>
            <ul id="lista-carrinho"></ul>
            <p id="total"></p>
            <a id="finalizar" href="#" target="_blank">Finalizar Pedido no WhatsApp</a>
            <br><br>
            <button onclick="limparCarrinho()">Limpar Carrinho</button>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Dtech Informática. Todos os direitos reservados.</p>
    </footer>

    <script>
        let carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];
        let lista = document.getElementById('lista-carrinho');
        let total = 0;
        let mensagem = 'Olá! Gostaria de finalizar meu pedido:%0A';

        carrinho.forEach(item => {
            let li = document.createElement('li');
            li.textContent = item.nome + ' - R$' + item.preco;
            lista.appendChild(li);
            total += item.preco;
            mensagem += '- ' + item.nome + ' - R$' + item.preco + '%0A';
        });

        document.getElementById('total').textContent = 'Total: R$' + total;
        document.getElementById('finalizar').href = 'https://wa.me/5588997139954?text=' + mensagem;

        function limparCarrinho() {
            localStorage.removeItem('carrinho');
            location.reload();
        }
    </script>
</body>
</html>
